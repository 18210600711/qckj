<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qcit.dao.UserDao">
	<select id="getStudentById" parameterType="String" resultType="Student">
		select * from student where id=#{id}
	</select>
	<insert id="setStudent" parameterType="Student">
		insert into student(id,username,password,classes,gender,department,qq,phone)
		value(#{id},#{username},#{password},#{classes},#(gender),#{department},#{qq},#{phone})
	</insert>
	<update id="updateStudentBasics" parameterType="Student">
		update student
		<where>
			id=#{id}
		</where>
		set
		<if test="classes!=null">
			classes=#{classes},
		</if>
		<if test="gender!=null">
			gender=#{gender},
		</if>
		<if test="department!=null">
			department=#{department},
		</if>
		<if test="qq!=null">
			qq=#{qq},
		</if>
		<if test="phone!=null">
			phone=#{phone}
		</if>

	</update>
	 <update id="updateStudentPwdById" parameterType="Map">
		update student
		<where>
			id=#{id}
		</where>
		<if test="newpassword!=null">
			set password=#{newpassword}
		</if>
	</update>
	
	<select id="getStudentByPwdAndUserName"  parameterType="Map" resultType="Student">
	select * from student where username=#{username} and password=#{password}
	</select>
</mapper>